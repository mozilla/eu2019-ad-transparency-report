!function(e){var n={};function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(o,a,function(n){return e[n]}.bind(null,a));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=6)}([function(e,n){e.exports=d3},function(e,n,t){var o=t(2);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t(4)(o,a);o.locals&&(e.exports=o.locals)},function(e,n,t){(e.exports=t(3)(!1)).push([e.i,'/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n/* AUTOGENERATED Photon Colors Less Variables v3.3.2 */\nhtml,\nbody,\ndiv,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  border: 0;\n  padding: 0;\n  margin: 0;\n}\nbody {\n  width: 1000px;\n  margin: 0 auto;\n  padding-top: 2em;\n  padding-bottom: 20em;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 300;\n  font-size: 12pt;\n  line-height: 1.45;\n  color: #333;\n}\na {\n  color: #003eaa;\n}\na:visited {\n  color: #003eaa;\n}\nh1 {\n  font-family: "Zilla Slab", sans-serif;\n  font-weight: 700;\n  font-size: 24pt;\n  color: #000;\n  background: #959595;\n  padding: 32px 16px 32px 16px;\n  margin: 0;\n}\nh5 {\n  font-family: "Zilla Slab", sans-serif;\n  font-weight: 600;\n  font-size: 14pt;\n  color: #000;\n  padding: 0 16px 0 16px;\n  margin: 16px 0 0 0;\n}\nselect {\n  font-family: "Zilla Slab", sans-serif;\n  font-weight: 600;\n  font-size: 14pt;\n  padding: 0 0.25em;\n}\ndiv.warnings {\n  padding: 8px 16px 16px 16px;\n}\ndiv.warnings div.warning {\n  font-size: 10pt;\n  line-height: 12pt;\n  color: #a4000f;\n  padding: 0 0 8px 0;\n}\ndiv.p {\n  padding: 16px 16px 0 16px;\n}\ndiv.download {\n  padding: 4px 16px 24px 16px;\n}\ndiv.download a {\n  text-decoration: none;\n}\ndiv.download a:hover {\n  text-decoration: underline;\n  text-decoration-style: dotted;\n}\ndiv.download i {\n  font-size: 10px;\n}\ndiv.download span.download_label {\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  font-size: 9pt;\n}\ndiv.report {\n  padding: 8px 16px 0 16px;\n  font-family: "Fira Mono", fixed;\n  font-weight: 400;\n  font-size: 9pt;\n  padding-top: 12px;\n  border-top: 1px solid #333;\n  margin-top: 12px;\n  padding-bottom: 12px;\n  border-bottom: 1px solid #333;\n  margin-bottom: 4px;\n}\ndiv.report b {\n  font-family: "Fira Mono", fixed;\n  font-weight: 700;\n}\ndiv.table {\n  padding: 8px 16px 0 16px;\n  font-family: "Fira Mono", fixed;\n  font-weight: 400;\n  font-size: 9pt;\n}\ndiv.table div.table_header {\n  padding-bottom: 2px;\n  border-bottom: 1px solid #333;\n  margin-bottom: 2px;\n}\ndiv.table div.table_body {\n  padding-bottom: 2px;\n  border-bottom: 1px solid #333;\n  margin-bottom: 2px;\n}\ndiv.table div.row.header,\ndiv.table div.row.body {\n  padding-left: 2em;\n}\ndiv.table div.row.header:nth-child(5n):not(:last-child),\ndiv.table div.row.body:nth-child(5n):not(:last-child) {\n  padding-bottom: 2px;\n  border-bottom: 1px dotted #ccc;\n  margin-bottom: 2px;\n}\ndiv.table span.cell.header,\ndiv.table span.cell.body {\n  display: inline-block;\n  vertical-align: top;\n  padding-top: 0.3em;\n  padding-bottom: 0.3em;\n  line-height: 1em;\n}\ndiv.table span.cell.header.dimension,\ndiv.table span.cell.body.dimension {\n  width: 22em;\n}\ndiv.table span.cell.header.ad_count,\ndiv.table span.cell.body.ad_count {\n  width: 10em;\n  text-align: right;\n}\ndiv.table span.cell.header.platform,\ndiv.table span.cell.body.platform {\n  width: 1.5em;\n}\ndiv.table span.cell.header.platform i,\ndiv.table span.cell.body.platform i {\n  font-size: 10px;\n  color: #666;\n}\ndiv.table span.cell.header.advertiser,\ndiv.table span.cell.body.advertiser {\n  width: 30.5em;\n}\ndiv.table span.cell.header.advertiser_count,\ndiv.table span.cell.body.advertiser_count {\n  width: 10em;\n  text-align: right;\n}\ndiv.table span.cell.header.impressions,\ndiv.table span.cell.body.impressions {\n  width: 14em;\n  text-align: right;\n}\ndiv.table span.cell.header.spend,\ndiv.table span.cell.body.spend {\n  width: 12em;\n  text-align: right;\n}\ndiv.section {\n  font-family: "Open Sans", sans-serif;\n  font-weight: 300;\n  font-size: 12pt;\n  line-height: 1.45;\n  color: #333;\n}\ndiv.section h3 {\n  font-family: "Zilla Slab", sans-serif;\n  font-weight: 700;\n  font-size: 16pt;\n  color: #000;\n  background: #e7e5e2;\n  padding: 16px 16px 16px 16px;\n  margin: 32px 0 0 0;\n}\ndiv.section h3 .action {\n  float: right;\n  line-height: 30px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  font-size: 9pt;\n  color: #003eaa;\n  cursor: pointer;\n}\ndiv.section h3:hover .action {\n  text-decoration: underline;\n}\ndiv.section.is_open h3 .action.open {\n  display: none;\n}\ndiv.section.is_open h3 .action.close {\n  display: inline-block;\n}\ndiv.section.is_open div.content {\n  display: block;\n}\ndiv.section.is_closed h3 .action.open {\n  display: inline-block;\n}\ndiv.section.is_closed h3 .action.close {\n  display: none;\n}\ndiv.section.is_closed div.content {\n  display: none;\n}\n',""])},function(e,n){e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t=function(e,n){var t=e[1]||"",o=e[3];if(!o)return t;if(n&&"function"==typeof btoa){var a=(s=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[t].concat(i).concat([a]).join("\n")}var s;return[t].join("\n")}(n,e);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(o[i]=!0)}for(a=0;a<e.length;a++){var s=e[a];"number"==typeof s[0]&&o[s[0]]||(t&&!s[2]?s[2]=t:t&&(s[2]="("+s[2]+") and ("+t+")"),n.push(s))}},n}},function(e,n,t){var o,a,i={},s=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=o.apply(this,arguments)),a}),r=function(e){var n={};return function(e,t){if("function"==typeof e)return e();if(void 0===n[e]){var o=function(e,n){return n?n.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}n[e]=o}return n[e]}}(),l=null,d=0,c=[],p=t(5);function f(e,n){for(var t=0;t<e.length;t++){var o=e[t],a=i[o.id];if(a){a.refs++;for(var s=0;s<a.parts.length;s++)a.parts[s](o.parts[s]);for(;s<o.parts.length;s++)a.parts.push(v(o.parts[s],n))}else{var r=[];for(s=0;s<o.parts.length;s++)r.push(v(o.parts[s],n));i[o.id]={id:o.id,refs:1,parts:r}}}}function b(e,n){for(var t=[],o={},a=0;a<e.length;a++){var i=e[a],s=n.base?i[0]+n.base:i[0],r={css:i[1],media:i[2],sourceMap:i[3]};o[s]?o[s].parts.push(r):t.push(o[s]={id:s,parts:[r]})}return t}function u(e,n){var t=r(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=c[c.length-1];if("top"===e.insertAt)o?o.nextSibling?t.insertBefore(n,o.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),c.push(n);else if("bottom"===e.insertAt)t.appendChild(n);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=r(e.insertAt.before,t);t.insertBefore(n,a)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=c.indexOf(e);n>=0&&c.splice(n,1)}function y(e){var n=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=function(){0;return t.nc}();o&&(e.attrs.nonce=o)}return m(n,e.attrs),u(e,n),n}function m(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function v(e,n){var t,o,a,i;if(n.transform&&e.css){if(!(i="function"==typeof n.transform?n.transform(e.css):n.transform.default(e.css)))return function(){};e.css=i}if(n.singleton){var s=d++;t=l||(l=y(n)),o=x.bind(null,t,s,!1),a=x.bind(null,t,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(e){var n=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(n,e.attrs),u(e,n),n}(n),o=function(e,n,t){var o=t.css,a=t.sourceMap,i=void 0===n.convertToAbsoluteUrls&&a;(n.convertToAbsoluteUrls||i)&&(o=p(o));a&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var s=new Blob([o],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(s),r&&URL.revokeObjectURL(r)}.bind(null,t,n),a=function(){h(t),t.href&&URL.revokeObjectURL(t.href)}):(t=y(n),o=function(e,n){var t=n.css,o=n.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,t),a=function(){h(t)});return o(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;o(e=n)}else a()}}e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=s()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=b(e,n);return f(t,n),function(e){for(var o=[],a=0;a<t.length;a++){var s=t[a];(r=i[s.id]).refs--,o.push(r)}e&&f(b(e,n),n);for(a=0;a<o.length;a++){var r;if(0===(r=o[a]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete i[r.id]}}}};var _,g=(_=[],function(e,n){return _[e]=n,_.filter(Boolean).join("\n")});function x(e,n,t,o){var a=t?"":o.css;if(e.styleSheet)e.styleSheet.cssText=g(n,a);else{var i=document.createTextNode(a),s=e.childNodes;s[n]&&e.removeChild(s[n]),s.length?e.insertBefore(i,s[n]):e.appendChild(i)}}},function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,o=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,n){var a,i=n.trim().replace(/^"(.*)"$/,function(e,n){return n}).replace(/^'(.*)'$/,function(e,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(a=0===i.indexOf("//")?i:0===i.indexOf("/")?t+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")})}},function(e,n,t){"use strict";t.r(n);var o=t(0);t(1);const a=[{key:"platform",label:"Platform",db_key:"platform_code",db_label:"platform_name"},{key:"media",label:"Ad Type",db_key:"media_code",db_label:"media_label"},{key:"location",label:"Region",db_key:"location_code",db_label:"location_name"},{key:"country",label:"Country",db_key:"country_code",db_label:"country_name"},{key:"region",label:"Region",db_key:"region_code",db_label:"region_name"},{key:"audience",label:"Gender and Age",db_key:"audience_code",db_label:"audience_label"},{key:"gender",label:"Gender",db_key:"gender_code",db_label:"gender_label"},{key:"age",label:"Age",db_key:"age_code",db_label:"age_label"},{key:"day",label:"Day",db_key:"day_code",db_label:"day_label"},{key:"week",label:"Week",db_key:"week_code",db_label:"week_label"},{key:"recent",label:"Recent",db_key:"recent_code",db_label:"recent_label"},{key:"spend",label:"Spend",db_key:"spend_code",db_label:"spend_label"},{key:"impression",label:"Impressions",db_key:"impression_code",db_label:"impression_label"}];a.filter(e=>"region"!==e.key);var i={crawlDate:"May 13, 2019",dimensions:a.filter(e=>"country"!==e.key)};const s=function(e="eu"){this.country_code=e};s.prototype._isSummary=function(e){return void 0===e||"summary"===e.key},s.prototype.getGlobalsFilename=function(){return"eu"===this.country_code?"globals.json":"../globals.json"},s.prototype.getStatsFilename=function(e){return this._isSummary(e)?`data/${this.country_code}-stats.csv`:`data/${e.key}/${this.country_code}-stats-by-${e.key}.csv`},s.prototype.getAdvertisersFilename=function(e,n){return this._isSummary(e)?`data/${this.country_code}-advertisers.csv`:`data/${e.key}/${this.country_code}-advertisers-by-${e.key}-${n}.csv`},s.prototype.getAdvertisersPreviewFilename=function(e,n){return this._isSummary(e)?`data/${this.country_code}-advertisers+.csv`:`data/${e.key}/${this.country_code}-advertisers+-by-${e.key}-${n}.csv`},s.prototype.loadGlobals=function(){const e=this.getGlobalsFilename();return o.json(e)},s.prototype.loadStats=function(e){const n=this.getStatsFilename(e);return o.tsv(n)},s.prototype.loadAdvertisers=function(e,n){const t=this.getAdvertisersPreviewFilename(e,n);return o.tsv(t)};var r=s;document.addEventListener("DOMContentLoaded",function(){const e=(e,n)=>"country"===n.key?e.filter(e=>"__"!==e[n.db_key]):"audience"===n.key||"gender"===n.key?e.filter(e=>"u"!==e[n.db_key].substr(0,1)):e,n=e=>n=>e.map(e=>Object.assign({},e,{db_data:n[e.db_key]})),t=e=>e.is_number?e.is_exact?s(e.db_data):l(e.db_data):e.db_data,a=o.format(","),s=e=>a(e),l=(e,n=3)=>{const t=0===e?0:Math.floor(Math.log10(Math.abs(e)))+1,o=Math.pow(10,t-n),i=Math.round(Math.floor(e/o)*o);return a(i)},d=e=>{const n=y.getStatsFilename(e);o.selectAll(`a.csv.stats.${e.key}`).attr("href",n).selectAll("span.download_label").text("Download the full table")},c=(e,a,i=25)=>{const s=e.slice(0,i),r=[{css:"platform",db_key:"platform_name",is_platform:!0,is_number:!1,label:""},{css:"advertiser",db_key:"advertiser_name",is_platform:!1,is_number:!1,label:"Advertiser"},{css:"ad_count",db_key:"ad_count",is_platform:!1,is_number:!0,is_exact:!0,label:"Ads"},{css:"impressions",db_key:"high_impressions",is_platform:!1,is_number:!0,is_exact:!1,label:"Impressions"},{css:"spend",db_key:"high_spend",is_platform:!1,is_number:!0,is_exact:!1,label:"Spend (€)"}],l=o.select(`.table.advertisers.${a.key}`);l.selectAll("*").remove(),l.append("div").attr("class","table_header").append("div").attr("class","row header").selectAll("span").data(r).enter().append("span").attr("class",e=>`cell header ${e.css}`).text(e=>e.label);const d=l.append("div").attr("class","table_body").selectAll("div").data(s).enter().append("div").attr("class","row body").selectAll("span").data(n(r)).enter().append("span").attr("class",e=>`cell body ${e.css}`);d.filter(e=>e.is_platform).append("i").attr("class",e=>"Facebook"===e.db_data?"fab fa-facebook-square":"fab fa-google"),d.filter(e=>!e.is_platform).text(t)},p=(e,n)=>{const t=y.getAdvertisersFilename(e,n);o.selectAll(`a.csv.advertisers.${e.key}`).attr("href",t).selectAll("span.download_label").text("Download the full list of advertisers")},f=e=>{o.select(e).classed("is_open",!0).classed("is_closed",!1)},b=e=>{const n=document.getElementById(e);n&&n.scrollIntoView()},u=e=>{const n=e.classed("is_open");e.classed("is_open",!n).classed("is_closed",n)};o.selectAll(".section h3 .action").on("click",()=>{u(o.select(o.event.target.parentNode.parentNode))}),o.selectAll(".section h3 .label").on("click",()=>{u(o.select(o.event.target.parentNode.parentNode))}),o.selectAll(".section h3").on("click",()=>{u(o.select(o.event.target.parentNode))});const h={key:"summary"},y=new r("uk");window.location.hash&&f(window.location.hash),window.location.hash&&b(window.location.hash),y.loadGlobals().then(a=>{(e=>{o.selectAll(".stats.const.last_updated_date").text(e.last_updated_date)})(a),y.loadStats(h).then(a=>{(e=>{const n=e[0];for(const e in n)n[e]=parseInt(n[e]);o.selectAll(".stats.summary.ad_count").text(s(n.ad_count)),o.selectAll(".stats.summary.advertiser_count").text(s(n.advertiser_count)),o.selectAll(".stats.summary.high_impressions").text(l(n.high_impressions)),o.selectAll(".stats.summary.low_impressions").text(l(n.low_impressions)),o.selectAll(".stats.summary.high_spend").text(l(n.high_spend)),o.selectAll(".stats.summary.low_spend").text(l(n.low_spend))})(a),d(h),y.loadAdvertisers(h).then(e=>{c(e,h,50),p(h)}),i.dimensions.forEach(a=>{y.loadStats(a).then(i=>{((a,i)=>{const s="country"===i.key?28:"audience"===i.key?14:20,r=e(a,i).slice(0,s),l=(e=>[{css:"dimension",db_key:e.db_label,is_number:!1,label:e.label},{css:"advertiser_count",db_key:"advertiser_count",is_number:!0,is_exact:!0,label:"Advertisers"},{css:"ad_count",db_key:"ad_count",is_number:!0,is_exact:!0,label:"Ads"},{css:"impressions",db_key:"high_impressions",is_number:!0,is_exact:!1,label:"Impressions"},{css:"spend",db_key:"high_spend",is_number:!0,is_exact:!1,label:"Spend (€)"}])(i),d=o.select(`.table.stats.${i.key}`);d.append("div").attr("class","table_header").append("div").attr("class","row header").selectAll("span").data(l).enter().append("span").attr("class",e=>`cell header ${e.css}`).text(e=>e.label),d.append("div").attr("class","table_body").selectAll("div").data(r).enter().append("div").attr("class","row body").selectAll("span").data(n(l)).enter().append("span").attr("class",e=>`cell body ${e.css}`).text(t)})(i,a),d(a);const s=((e,n)=>e[0][n.db_key])(i,a);((n,t,a)=>{const i="country"===t.key?28:"audience"===t.key?14:20,s=e(n,t).slice(0,i).map(e=>({key:e[t.db_key],label:e[t.db_label]})),r=o.select(`select.select.${t.key}`);r.selectAll("option").data(s).enter().append("option").attr("value",e=>e.key).attr("selected",e=>e.key===a?"selected":null).text(e=>e.label),r.on("change",function(){const e=r.node().value;y.loadAdvertisers(t,e).then(n=>{c(n,t),p(t,e)})})})(i,a,s),y.loadAdvertisers(a,s).then(e=>{c(e,a),p(a,s)})})})})})})}]);