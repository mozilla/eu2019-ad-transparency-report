!function(n){var e={};function t(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=e,t.d=function(n,e,i){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:i})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(i,o,function(e){return n[e]}.bind(null,o));return i},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=6)}([function(n,e){n.exports=d3},function(n,e,t){var i=t(2);"string"==typeof i&&(i=[[n.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(4)(i,o);i.locals&&(n.exports=i.locals)},function(n,e,t){(n.exports=t(3)(!1)).push([n.i,'/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n/* AUTOGENERATED Photon Colors Less Variables v3.3.2 */\nhtml,\nbody,\ndiv,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nul,\nol {\n  border: 0;\n  padding: 0;\n  margin: 0;\n}\nhtml {\n  scroll-behavior: smooth;\n}\nbody {\n  width: 880px;\n  margin: 0 auto;\n  padding-top: 2em;\n  padding-bottom: 20em;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 300;\n  font-size: 11pt;\n  line-height: 1.35;\n  color: #000;\n}\nbody a {\n  color: #003eaa;\n}\nbody a:visited {\n  color: #003eaa;\n}\nbody a.jump {\n  text-decoration: underline;\n  text-decoration-style: dashed;\n  cursor: pointer;\n}\nbody a,\nbody b {\n  font-weight: 700;\n}\nh1 {\n  font-family: "Zilla Slab", sans-serif;\n  font-weight: 700;\n  font-size: 24pt;\n  background: #fff44f;\n  padding: 32px 16px 32px 16px;\n  margin: 0;\n}\ndiv.intro {\n  padding: 16px 0 40px 0;\n}\ndiv.section {\n  padding: 0;\n}\ndiv.section h3 {\n  font-family: "Zilla Slab", sans-serif;\n  font-weight: 700;\n  font-size: 16pt;\n  background: #e7e5e2;\n  padding: 16px 16px 16px 16px;\n  margin: 32px 0 0 0;\n}\ndiv.section div.content {\n  padding: 0 0 16px 0;\n}\ndiv.section div.footer {\n  background: #e7e5e2;\n  padding: 16px 16px 16px 16px;\n  margin: 32px 0 0 0;\n  margin-top: 48px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  font-size: 9pt;\n  color: #737373;\n  text-align: right;\n}\ndiv.section div.footer a {\n  font-weight: 300;\n}\ndiv.intro h5,\ndiv.section div.content h5 {\n  font-family: "Zilla Slab", sans-serif;\n  font-weight: 600;\n  font-size: 14pt;\n  padding: 0 16px 0 16px;\n  margin: 24px 0 0 0;\n}\ndiv.intro h6,\ndiv.section div.content h6 {\n  font-family: "Zilla Slab", sans-serif;\n  font-weight: 600;\n  font-size: 12pt;\n  color: #000;\n  padding: 0 16px 0 16px;\n  margin: 16px 0 0 0;\n  margin-left: 60px;\n  border-left: 4px solid #ccc;\n}\ndiv.intro div.p,\ndiv.section div.content div.p {\n  width: 640px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 300;\n  font-size: 11pt;\n  margin: 0;\n  padding: 16px 16px 0 16px;\n}\ndiv.intro div.pp,\ndiv.section div.content div.pp {\n  width: 580px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 300;\n  font-size: 10.5pt;\n  margin: 0;\n  padding: 16px 16px 0 16px;\n  margin-left: 60px;\n  border-left: 4px solid #ccc;\n}\ndiv.intro h5 + div.p,\ndiv.section div.content h5 + div.p {\n  padding: 4px 16px 0 16px;\n}\ndiv.intro h6 + div.pp,\ndiv.section div.content h6 + div.pp {\n  padding: 0 16px 0 16px;\n}\ndiv.intro div.p + h6,\ndiv.section div.content div.p + h6 {\n  margin-top: 20px;\n}\ndiv.intro div.pp + h5,\ndiv.section div.content div.pp + h5 {\n  margin-top: 40px;\n}\ndiv.intro div.p .quote,\ndiv.section div.content div.p .quote,\ndiv.intro div.pp .quote,\ndiv.section div.content div.pp .quote {\n  font-family: "Fira Mono", fixed;\n  font-weight: 400;\n  font-size: 9.5pt;\n  padding: 1px 2px 0 2px;\n  border: 1px solid #ccc;\n  background: #eee;\n}\ndiv.intro div.p .verbatim,\ndiv.section div.content div.p .verbatim,\ndiv.intro div.pp .verbatim,\ndiv.section div.content div.pp .verbatim {\n  display: block;\n  font-family: "Fira Mono", fixed;\n  font-weight: 400;\n  font-size: 9.5pt;\n  padding: 1px 2px 0 2px;\n  border: 1px solid #ccc;\n  background: #eee;\n  word-wrap: break-word;\n  word-break: break-all;\n}\ndiv.intro div.p i,\ndiv.section div.content div.p i,\ndiv.intro div.pp i,\ndiv.section div.content div.pp i {\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n}\ndiv.intro ul,\ndiv.section div.content ul {\n  width: 580px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 300;\n  font-size: 11pt;\n  margin: 0;\n  padding: 16px 16px 0 16px;\n  margin-left: 30px;\n}\ndiv.intro h5.jump {\n  cursor: pointer;\n  border-bottom: 1px solid #e7e5e2;\n  margin: 40px 0 8px 0;\n}\ndiv.intro h5.jump .action {\n  float: right;\n  line-height: 30px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  font-size: 9pt;\n  color: #737373;\n}\ndiv.intro h5.jump .action * {\n  pointer-events: none;\n}\ndiv.intro h5.jump:hover .action {\n  color: #003eaa;\n  text-decoration: underline dashed #003eaa;\n}\ndiv.section div.content h5.jump,\ndiv.section div.content h6.jump {\n  cursor: pointer;\n}\ndiv.section div.content h5.jump .action,\ndiv.section div.content h6.jump .action {\n  float: right;\n  line-height: 30px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  font-size: 9pt;\n  color: #b1b1b3;\n}\ndiv.section div.content h5.jump .action *,\ndiv.section div.content h6.jump .action * {\n  pointer-events: none;\n}\ndiv.section div.content h5.jump:hover .action,\ndiv.section div.content h6.jump:hover .action {\n  color: #003eaa;\n  text-decoration: underline dashed #003eaa;\n}\ndiv.section.dynamic {\n  cursor: pointer;\n}\ndiv.section.dynamic div.content {\n  height: auto;\n  overflow: hidden;\n}\ndiv.section.dynamic .action {\n  float: right;\n  line-height: 30px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  font-size: 9pt;\n  color: #737373;\n  cursor: pointer;\n}\ndiv.section.dynamic .action * {\n  pointer-events: none;\n}\ndiv.section.dynamic:hover .action {\n  color: #003eaa;\n  text-decoration: underline dashed #003eaa;\n}\ndiv.section.dynamic.is_expanded h3 .action.expand {\n  display: none;\n}\ndiv.section.dynamic.is_expanded h3 .action.collapse {\n  display: inline-block;\n}\ndiv.section.dynamic.is_expanded div.content {\n  max-height: 3000px;\n  transition: max-height 0.3s ease-out;\n}\ndiv.section.dynamic.is_collapsed h3 .action.expand {\n  display: inline-block;\n}\ndiv.section.dynamic.is_collapsed h3 .action.collapse {\n  display: none;\n}\ndiv.section.dynamic.is_collapsed div.content {\n  max-height: 0px;\n  transition: max-height 0.3s ease-out;\n}\nbody {\n  width: 1000px;\n}\ndiv.intro h5.fail {\n  color: #a4000f;\n}\ndiv.intro h5 .status_icon {\n  padding-left: 0.25em;\n}\ndiv.intro h5 .status_icon i {\n  font-size: 16px;\n}\ndiv.p select {\n  display: inline-block;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 300;\n  font-size: 10pt;\n}\nh5 select {\n  font-family: "Zilla Slab", sans-serif;\n  font-weight: 600;\n  font-size: 14pt;\n  padding: 0 0.25em;\n}\ndiv.warnings {\n  padding: 24px 16px 4px 16px;\n}\ndiv.warnings div.warn,\ndiv.warnings div.fail {\n  font-size: 10pt;\n  line-height: 12pt;\n  padding: 0 0 8px 0;\n}\ndiv.warnings div.warn {\n  color: #d7b600;\n}\ndiv.warnings div.fail {\n  color: #a4000f;\n}\ndiv.download {\n  padding: 4px 16px 24px 16px;\n}\ndiv.download a {\n  text-decoration: none;\n}\ndiv.download a:hover {\n  text-decoration: underline;\n  text-decoration-style: dotted;\n}\ndiv.download i {\n  font-size: 10px;\n}\ndiv.download span.download_label {\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  font-size: 9pt;\n}\ndiv.report {\n  padding: 8px 16px 0 16px;\n  font-family: "Fira Mono", fixed;\n  font-weight: 400;\n  font-size: 9pt;\n  padding-top: 12px;\n  border-top: 1px solid #333;\n  margin-top: 12px;\n  padding-bottom: 12px;\n  border-bottom: 1px solid #333;\n  margin-bottom: 4px;\n}\ndiv.report b {\n  font-family: "Fira Mono", fixed;\n  font-weight: 700;\n}\ndiv.table {\n  padding: 8px 16px 0 16px;\n  font-family: "Fira Mono", fixed;\n  font-weight: 400;\n  font-size: 9pt;\n}\ndiv.table div.table_header {\n  padding-bottom: 2px;\n  border-bottom: 1px solid #333;\n  margin-bottom: 2px;\n}\ndiv.table div.table_body {\n  padding-bottom: 2px;\n  border-bottom: 1px solid #333;\n  margin-bottom: 2px;\n}\ndiv.table div.row.header,\ndiv.table div.row.body {\n  padding-left: 2em;\n}\ndiv.table div.row.header:nth-child(5n):not(:last-child),\ndiv.table div.row.body:nth-child(5n):not(:last-child) {\n  padding-bottom: 2px;\n  border-bottom: 1px dotted #ccc;\n  margin-bottom: 2px;\n}\ndiv.table span.cell.header,\ndiv.table span.cell.body {\n  display: inline-block;\n  vertical-align: top;\n  padding-top: 0.3em;\n  padding-bottom: 0.3em;\n  line-height: 1em;\n}\ndiv.table span.cell.header.dimension,\ndiv.table span.cell.body.dimension {\n  width: 22em;\n}\ndiv.table span.cell.header.ad_count,\ndiv.table span.cell.body.ad_count {\n  width: 10em;\n  text-align: right;\n}\ndiv.table span.cell.header.platform,\ndiv.table span.cell.body.platform {\n  width: 1.5em;\n}\ndiv.table span.cell.header.platform i,\ndiv.table span.cell.body.platform i {\n  font-size: 10px;\n  color: #666;\n}\ndiv.table span.cell.header.advertiser,\ndiv.table span.cell.body.advertiser {\n  width: 30.5em;\n}\ndiv.table span.cell.header.advertiser_count,\ndiv.table span.cell.body.advertiser_count {\n  width: 10em;\n  text-align: right;\n}\ndiv.table span.cell.header.impressions,\ndiv.table span.cell.body.impressions {\n  width: 14em;\n  text-align: right;\n}\ndiv.table span.cell.header.spend,\ndiv.table span.cell.body.spend {\n  width: 12em;\n  text-align: right;\n}\n',""])},function(n,e){n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t=function(n,e){var t=n[1]||"",i=n[3];if(!i)return t;if(e&&"function"==typeof btoa){var o=(s=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),a=i.sources.map(function(n){return"/*# sourceURL="+i.sourceRoot+n+" */"});return[t].concat(a).concat([o]).join("\n")}var s;return[t].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var i={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(i[a]=!0)}for(o=0;o<n.length;o++){var s=n[o];"number"==typeof s[0]&&i[s[0]]||(t&&!s[2]?s[2]=t:t&&(s[2]="("+s[2]+") and ("+t+")"),e.push(s))}},e}},function(n,e,t){var i,o,a={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),r=function(n){var e={};return function(n,t){if("function"==typeof n)return n();if(void 0===e[n]){var i=function(n,e){return e?e.querySelector(n):document.querySelector(n)}.call(this,n,t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(n){i=null}e[n]=i}return e[n]}}(),l=null,d=0,c=[],p=t(5);function f(n,e){for(var t=0;t<n.length;t++){var i=n[t],o=a[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(y(i.parts[s],e))}else{var r=[];for(s=0;s<i.parts.length;s++)r.push(y(i.parts[s],e));a[i.id]={id:i.id,refs:1,parts:r}}}}function u(n,e){for(var t=[],i={},o=0;o<n.length;o++){var a=n[o],s=e.base?a[0]+e.base:a[0],r={css:a[1],media:a[2],sourceMap:a[3]};i[s]?i[s].parts.push(r):t.push(i[s]={id:s,parts:[r]})}return t}function v(n,e){var t=r(n.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=c[c.length-1];if("top"===n.insertAt)i?i.nextSibling?t.insertBefore(e,i.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),c.push(e);else if("bottom"===n.insertAt)t.appendChild(e);else{if("object"!=typeof n.insertAt||!n.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=r(n.insertAt.before,t);t.insertBefore(e,o)}}function b(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n);var e=c.indexOf(n);e>=0&&c.splice(e,1)}function h(n){var e=document.createElement("style");if(void 0===n.attrs.type&&(n.attrs.type="text/css"),void 0===n.attrs.nonce){var i=function(){0;return t.nc}();i&&(n.attrs.nonce=i)}return m(e,n.attrs),v(n,e),e}function m(n,e){Object.keys(e).forEach(function(t){n.setAttribute(t,e[t])})}function y(n,e){var t,i,o,a;if(e.transform&&n.css){if(!(a="function"==typeof e.transform?e.transform(n.css):e.transform.default(n.css)))return function(){};n.css=a}if(e.singleton){var s=d++;t=l||(l=h(e)),i=x.bind(null,t,s,!1),o=x.bind(null,t,s,!0)}else n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(n){var e=document.createElement("link");return void 0===n.attrs.type&&(n.attrs.type="text/css"),n.attrs.rel="stylesheet",m(e,n.attrs),v(n,e),e}(e),i=function(n,e,t){var i=t.css,o=t.sourceMap,a=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||a)&&(i=p(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([i],{type:"text/css"}),r=n.href;n.href=URL.createObjectURL(s),r&&URL.revokeObjectURL(r)}.bind(null,t,e),o=function(){b(t),t.href&&URL.revokeObjectURL(t.href)}):(t=h(e),i=function(n,e){var t=e.css,i=e.media;i&&n.setAttribute("media",i);if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}.bind(null,t),o=function(){b(t)});return i(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;i(n=e)}else o()}}n.exports=function(n,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var t=u(n,e);return f(t,e),function(n){for(var i=[],o=0;o<t.length;o++){var s=t[o];(r=a[s.id]).refs--,i.push(r)}n&&f(u(n,e),e);for(o=0;o<i.length;o++){var r;if(0===(r=i[o]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete a[r.id]}}}};var _,g=(_=[],function(n,e){return _[n]=e,_.filter(Boolean).join("\n")});function x(n,e,t,i){var o=t?"":i.css;if(n.styleSheet)n.styleSheet.cssText=g(e,o);else{var a=document.createTextNode(o),s=n.childNodes;s[e]&&n.removeChild(s[e]),s.length?n.insertBefore(a,s[e]):n.appendChild(a)}}},function(n,e){n.exports=function(n){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!n||"string"!=typeof n)return n;var t=e.protocol+"//"+e.host,i=t+e.pathname.replace(/\/[^\/]*$/,"/");return n.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,e){var o,a=e.trim().replace(/^"(.*)"$/,function(n,e){return e}).replace(/^'(.*)'$/,function(n,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?n:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?t+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(n,e,t){"use strict";t.r(e);t(1);var i=t(0);const o=[{key:"platform",label:"Platform",db_key:"platform_code",db_label:"platform_name"},{key:"media",label:"Ad Type",db_key:"media_code",db_label:"media_label"},{key:"location",label:"Region",db_key:"location_code",db_label:"location_name"},{key:"country",label:"Country",db_key:"country_code",db_label:"country_name"},{key:"region",label:"Region",db_key:"region_code",db_label:"region_name"},{key:"audience",label:"Gender and Age",db_key:"audience_code",db_label:"audience_label"},{key:"gender",label:"Gender",db_key:"gender_code",db_label:"gender_label"},{key:"age",label:"Age",db_key:"age_code",db_label:"age_label"},{key:"day",label:"Day",db_key:"day_code",db_label:"day_label"},{key:"week",label:"Week",db_key:"week_code",db_label:"week_label"},{key:"recent",label:"Recent",db_key:"recent_code",db_label:"recent_label"},{key:"spend",label:"Spend",db_key:"spend_code",db_label:"spend_label"},{key:"impression",label:"Impressions",db_key:"impression_code",db_label:"impression_label"}],a=o.filter(n=>"region"!==n.key);o.filter(n=>"country"!==n.key);var s={crawlDate:"May 13, 2019",dimensions:a};const r=function(n="eu"){this.country_code=n};r.prototype._isSummary=function(n){return void 0===n||"summary"===n.key},r.prototype.getGlobalsFilename=function(){return"eu"===this.country_code?"globals.json":"../globals.json"},r.prototype.getStatsFilename=function(n){return this._isSummary(n)?`data/${this.country_code}-stats.csv`:`data/${n.key}/${this.country_code}-stats-by-${n.key}.csv`},r.prototype.getAdvertisersFilename=function(n,e){return this._isSummary(n)?`data/${this.country_code}-advertisers.csv`:`data/${n.key}/${this.country_code}-advertisers-by-${n.key}-${e}.csv`},r.prototype.getAdvertisersPreviewFilename=function(n,e){return this._isSummary(n)?`data/${this.country_code}-advertisers+.csv`:`data/${n.key}/${this.country_code}-advertisers+-by-${n.key}-${e}.csv`},r.prototype.loadGlobals=function(){const n=this.getGlobalsFilename();return new Promise((e,t)=>{i.json(n).then(n=>{e(n)},()=>{t({})})})},r.prototype.loadStats=function(n){const e=this.getStatsFilename(n);return new Promise((n,t)=>{i.tsv(e).then(e=>{n(e)},()=>{t([])})})},r.prototype.loadAdvertisers=function(n,e){const t=this.getAdvertisersPreviewFilename(n,e);return new Promise((n,e)=>{i.tsv(t).then(e=>{n(e)},()=>{e([])})})};var l=r;const d=function(){};d.prototype.init=function(){this._replaceHyberlinkAElements(),this._replaceHeaderH5Elements(),this._replaceDynamicSectionDivAndH3Elements(),this._replaceJumpAElements(),this._replaceGoToSelectElements(),this._replaceContactEmail(),this._initDefaultSection()},d.prototype._replaceHyberlinkAElements=function(){i.selectAll("a").filter(function(){const n=i.select(this).attr("href");return n&&n.match(/^https?:\/\/.+/)}).attr("target","_blank").attr("rel","noopener noreferrer")},d.prototype._replaceHeaderH5Elements=function(){const n=i.selectAll("div.intro, div.section div.content").selectAll("h5, h6");n.filter(function(){return i.select(this).classed("ok")}).append("span").attr("class","status_icon").append("i").attr("class","fas fa-check-circle"),n.filter(function(){return i.select(this).classed("warn")}).append("span").attr("class","status_icon").append("i").attr("class","fas fa-exclamation-triangle"),n.filter(function(){return i.select(this).classed("fail")}).append("span").attr("class","status_icon").append("i").attr("class","fas fa-times-circle");const e=n=>{const e=n.attr("class").split(" ");for(const n of e)if("jump_to_"===n.substr(0,8)){const e=n.substr(8);this._scrollToElementById(e)}},t=n.filter(function(){return i.select(this).classed("jump")});t.filter(function(){return i.select(this).classed("scroll_down")}).append("span").attr("class","action").text("Scroll down ").append("i").attr("class","fas fa-angle-double-down"),t.filter(function(){return i.select(this).classed("details_below")}).append("span").attr("class","action").text("Details ").append("i").attr("class","fas fa-angle-double-down"),t.filter(function(){return i.select(this).classed("details_above")}).append("span").attr("class","action").text("Details ").append("i").attr("class","fas fa-angle-double-up"),t.on("click",()=>{i.select(i.event.target).call(e)}),t.selectAll(".action").on("click",()=>{i.select(i.event.target.parentNode).call(e)})},d.prototype._replaceDynamicSectionDivAndH3Elements=function(){const n=i.selectAll("div.section.dynamic");n.filter(function(){return!i.select(this).classed("is_expanded")}).classed("is_collapsed",!0);const e=n.selectAll("h3");e.append("span").attr("class","action expand").text("Expand ").append("i").attr("class","fas fa-chevron-down"),e.append("span").attr("class","action collapse").text("Collapse ").append("i").attr("class","fas fa-chevron-up"),e.on("click",()=>{const n=i.select(i.event.target.parentNode);this._toggleElementByElem(n)}),e.selectAll(".action").on("click",()=>{const n=i.select(i.event.target.parentNode.parentNode);this._toggleElementByElem(n)})},d.prototype._replaceJumpAElements=function(){const n=n=>{const e=n.attr("class").split(" ");for(const n of e)if("jump_to_"===n.substr(0,8)){const e=n.substr(8);this._scrollToElementById(e)}};i.selectAll("a.jump").on("click",()=>{i.select(i.event.target).call(n)})},d.prototype._replaceGoToSelectElements=function(){i.selectAll("select.select.go_to_report").on("change",()=>{const n=i.event.target.value,e=window.location.origin,t=window.location.pathname;"/"!==t.substr(t.length-1,1)?window.location.href=`${e}${t}/${n}`:window.location.href=`${e}${t}${n}`})},d.prototype._replaceContactEmail=function(){i.selectAll(".JAPIXZQN").attr("href","mailto:adtransparency@mozilla.com?subject=EU Ad Transparency Report")},d.prototype._initDefaultSection=function(){this._expandDefaultSection(),this._scrollToDefaultSection()},d.prototype._expandDefaultSection=function(){window.location.hash&&this._expandElementById(window.location.hash)},d.prototype._scrollToDefaultSection=function(){window.location.hash&&this._scrollToElementById(window.location.hash)},d.prototype._expandElementById=function(n){i.select(n).classed("is_expanded",!0).classed("is_collapsed",!1)},d.prototype._toggleElementByElem=function(n){const e=n.classed("is_expanded");n.classed("is_expanded",!e).classed("is_collapsed",e)},d.prototype._scrollToElementById=function(n){const e=document.getElementById(n);e&&(e.scrollIntoView({behavior:"smooth"}),window.location.hash=`#${n}`)};var c=d;document.addEventListener("DOMContentLoaded",function(){const n=(n,e)=>"country"===e.key?n.filter(n=>"__"!==n[e.db_key]):"audience"===e.key||"gender"===e.key?n.filter(n=>"u"!==n[e.db_key].substr(0,1)):n,e=n=>e=>n.map(n=>Object.assign({},n,{db_data:e[n.db_key]})),t=n=>n.is_number?n.is_exact?a(n.db_data):r(n.db_data):n.db_data,o=i.format(","),a=n=>o(n),r=(n,e=3)=>{const t=0===n?0:Math.floor(Math.log10(Math.abs(n)))+1,i=Math.pow(10,t-e),a=Math.round(Math.floor(n/i)*i);return o(a)},d=n=>{const e=v.getStatsFilename(n);i.selectAll(`a.csv.stats.${n.key}`).attr("href",e).selectAll("span.download_label").text("Download the full table")},p=(n,o,a=25)=>{const s=n.slice(0,a),r=[{css:"platform",db_key:"platform_name",is_platform:!0,is_number:!1,label:""},{css:"advertiser",db_key:"advertiser_name",is_platform:!1,is_number:!1,label:"Advertiser"},{css:"ad_count",db_key:"ad_count",is_platform:!1,is_number:!0,is_exact:!0,label:"Ads"},{css:"impressions",db_key:"high_impressions",is_platform:!1,is_number:!0,is_exact:!1,label:"Impressions"},{css:"spend",db_key:"high_spend",is_platform:!1,is_number:!0,is_exact:!1,label:"Spend (€)"}],l=i.select(`.table.advertisers.${o.key}`);l.selectAll("*").remove(),l.append("div").attr("class","table_header").append("div").attr("class","row header").selectAll("span").data(r).enter().append("span").attr("class",n=>`cell header ${n.css}`).text(n=>n.label);const d=l.append("div").attr("class","table_body").selectAll("div").data(s).enter().append("div").attr("class","row body").selectAll("span").data(e(r)).enter().append("span").attr("class",n=>`cell body ${n.css}`);d.filter(n=>n.is_platform).append("i").attr("class",n=>"Facebook"===n.db_data?"fab fa-facebook-square":"fab fa-google"),d.filter(n=>!n.is_platform).text(t)},f=(n,e)=>{const t=v.getAdvertisersFilename(n,e);i.selectAll(`a.csv.advertisers.${n.key}`).attr("href",t).selectAll("span.download_label").text("Download the full list of advertisers")},u={key:"summary"},v=new l("eu");(new c).init(),v.loadGlobals().then(o=>{(n=>{i.selectAll(".stats.const.last_updated_date").text(n.last_updated_date)})(o),v.loadStats(u).then(o=>{(n=>{const e=n[0];for(const n in e)e[n]=parseInt(e[n]);i.selectAll(".stats.summary.ad_count").text(a(e.ad_count)),i.selectAll(".stats.summary.advertiser_count").text(a(e.advertiser_count)),i.selectAll(".stats.summary.high_impressions").text(r(e.high_impressions)),i.selectAll(".stats.summary.low_impressions").text(r(e.low_impressions)),i.selectAll(".stats.summary.high_spend").text(r(e.high_spend)),i.selectAll(".stats.summary.low_spend").text(r(e.low_spend))})(o),d(u),v.loadAdvertisers(u).then(n=>{p(n,u,50),f(u)}),s.dimensions.forEach(o=>{v.loadStats(o).then(a=>{((o,a)=>{const s="country"===a.key?28:"audience"===a.key?14:20,r=n(o,a).slice(0,s),l=(n=>[{css:"dimension",db_key:n.db_label,is_number:!1,label:n.label},{css:"advertiser_count",db_key:"advertiser_count",is_number:!0,is_exact:!0,label:"Advertisers"},{css:"ad_count",db_key:"ad_count",is_number:!0,is_exact:!0,label:"Ads"},{css:"impressions",db_key:"high_impressions",is_number:!0,is_exact:!1,label:"Impressions"},{css:"spend",db_key:"high_spend",is_number:!0,is_exact:!1,label:"Spend (€)"}])(a),d=i.select(`.table.stats.${a.key}`);d.append("div").attr("class","table_header").append("div").attr("class","row header").selectAll("span").data(l).enter().append("span").attr("class",n=>`cell header ${n.css}`).text(n=>n.label),d.append("div").attr("class","table_body").selectAll("div").data(r).enter().append("div").attr("class","row body").selectAll("span").data(e(l)).enter().append("span").attr("class",n=>`cell body ${n.css}`).text(t)})(a,o),d(o);const s=((n,e)=>n.length>0?n[0][e.db_key]:null)(a,o);((e,t,o)=>{const a="country"===t.key?28:"audience"===t.key?14:20,s=n(e,t).slice(0,a).map(n=>({key:n[t.db_key],label:n[t.db_label]})),r=i.select(`select.select.${t.key}`);r.selectAll("option").data(s).enter().append("option").attr("value",n=>n.key).attr("selected",n=>n.key===o?"selected":null).text(n=>n.label),r.on("change",function(){const n=r.node().value;v.loadAdvertisers(t,n).then(e=>{p(e,t),f(t,n)})})})(a,o,s),v.loadAdvertisers(o,s).then(n=>{p(n,o),f(o,s)})})})})})})}]);