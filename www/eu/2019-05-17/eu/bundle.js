!function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(n){return e[n]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=6)}([function(e,n){e.exports=d3},function(e,n,t){var i=t(2);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(4)(i,o);i.locals&&(e.exports=i.locals)},function(e,n,t){(e.exports=t(3)(!1)).push([e.i,'/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n/* AUTOGENERATED Photon Colors Less Variables v3.3.2 */\nhtml,\nbody,\ndiv,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nul,\nol {\n  border: 0;\n  padding: 0;\n  margin: 0;\n}\nhtml {\n  scroll-behavior: smooth;\n}\nbody {\n  width: 880px;\n  margin: 0 auto;\n  padding-top: 2em;\n  padding-bottom: 20em;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 300;\n  font-size: 11pt;\n  line-height: 1.35;\n  color: #000;\n}\nbody a {\n  color: #003eaa;\n}\nbody a:visited {\n  color: #003eaa;\n}\nbody a.jump {\n  text-decoration: underline;\n  text-decoration-style: dashed;\n  cursor: pointer;\n}\nbody a,\nbody b {\n  font-weight: 700;\n}\nh1 {\n  font-family: "Zilla Slab", sans-serif;\n  font-weight: 700;\n  font-size: 24pt;\n  background: #fff44f;\n  padding: 32px 16px 32px 16px;\n  margin: 0;\n}\ndiv.intro {\n  padding: 16px 0 40px 0;\n}\ndiv.section {\n  padding: 0;\n}\ndiv.section h3 {\n  font-family: "Zilla Slab", sans-serif;\n  font-weight: 700;\n  font-size: 16pt;\n  background: #e7e5e2;\n  padding: 16px 16px 16px 16px;\n  margin: 32px 0 0 0;\n}\ndiv.section div.content {\n  padding: 0 0 16px 0;\n}\ndiv.intro h5,\ndiv.section div.content h5 {\n  font-family: "Zilla Slab", sans-serif;\n  font-weight: 600;\n  font-size: 14pt;\n  padding: 0 16px 0 16px;\n  margin: 24px 0 0 0;\n}\ndiv.intro h6,\ndiv.section div.content h6 {\n  font-family: "Zilla Slab", sans-serif;\n  font-weight: 600;\n  font-size: 12pt;\n  color: #000;\n  padding: 0 16px 0 16px;\n  margin: 16px 0 0 0;\n  margin-left: 60px;\n  border-left: 4px solid #ccc;\n}\ndiv.intro div.p,\ndiv.section div.content div.p {\n  width: 640px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 300;\n  font-size: 11pt;\n  margin: 0;\n  padding: 16px 16px 0 16px;\n}\ndiv.intro div.pp,\ndiv.section div.content div.pp {\n  width: 580px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 300;\n  font-size: 10.5pt;\n  margin: 0;\n  padding: 16px 16px 0 16px;\n  margin-left: 60px;\n  border-left: 4px solid #ccc;\n}\ndiv.intro h5 + div.p,\ndiv.section div.content h5 + div.p {\n  padding: 4px 16px 0 16px;\n}\ndiv.intro h6 + div.pp,\ndiv.section div.content h6 + div.pp {\n  padding: 0 16px 0 16px;\n}\ndiv.intro div.p + h6,\ndiv.section div.content div.p + h6 {\n  margin-top: 20px;\n}\ndiv.intro div.pp + h5,\ndiv.section div.content div.pp + h5 {\n  margin-top: 40px;\n}\ndiv.intro div.p .quote,\ndiv.section div.content div.p .quote,\ndiv.intro div.pp .quote,\ndiv.section div.content div.pp .quote {\n  font-family: "Fira Mono", fixed;\n  font-weight: 400;\n  font-size: 9.5pt;\n  padding: 1px 2px 0 2px;\n  border: 1px solid #ccc;\n  background: #eee;\n}\ndiv.intro div.p i,\ndiv.section div.content div.p i,\ndiv.intro div.pp i,\ndiv.section div.content div.pp i {\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n}\ndiv.intro ul,\ndiv.section div.content ul {\n  width: 580px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 300;\n  font-size: 11pt;\n  margin: 0;\n  padding: 16px 16px 0 16px;\n  margin-left: 30px;\n}\ndiv.intro h5.jump {\n  cursor: pointer;\n  border-bottom: 1px solid #e7e5e2;\n  margin: 40px 0 8px 0;\n}\ndiv.intro h5.jump .action {\n  float: right;\n  line-height: 30px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  font-size: 9pt;\n  color: #737373;\n}\ndiv.intro h5.jump .action * {\n  pointer-events: none;\n}\ndiv.intro h5.jump:hover .action {\n  color: #003eaa;\n  text-decoration: underline dashed #003eaa;\n}\ndiv.section div.content h5.jump,\ndiv.section div.content h6.jump {\n  cursor: pointer;\n}\ndiv.section div.content h5.jump .action,\ndiv.section div.content h6.jump .action {\n  float: right;\n  line-height: 30px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  font-size: 9pt;\n  color: #b1b1b3;\n}\ndiv.section div.content h5.jump .action *,\ndiv.section div.content h6.jump .action * {\n  pointer-events: none;\n}\ndiv.section div.content h5.jump:hover .action,\ndiv.section div.content h6.jump:hover .action {\n  color: #003eaa;\n  text-decoration: underline dashed #003eaa;\n}\ndiv.section.dynamic {\n  cursor: pointer;\n}\ndiv.section.dynamic div.content {\n  height: auto;\n  overflow: hidden;\n}\ndiv.section.dynamic .action {\n  float: right;\n  line-height: 30px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  font-size: 9pt;\n  color: #737373;\n  cursor: pointer;\n}\ndiv.section.dynamic .action * {\n  pointer-events: none;\n}\ndiv.section.dynamic:hover .action {\n  color: #003eaa;\n  text-decoration: underline dashed #003eaa;\n}\ndiv.section.dynamic.is_expanded h3 .action.expand {\n  display: none;\n}\ndiv.section.dynamic.is_expanded h3 .action.collapse {\n  display: inline-block;\n}\ndiv.section.dynamic.is_expanded div.content {\n  max-height: 3000px;\n  transition: max-height 0.3s ease-out;\n}\ndiv.section.dynamic.is_collapsed h3 .action.expand {\n  display: inline-block;\n}\ndiv.section.dynamic.is_collapsed h3 .action.collapse {\n  display: none;\n}\ndiv.section.dynamic.is_collapsed div.content {\n  max-height: 0px;\n  transition: max-height 0.3s ease-out;\n}\nbody {\n  width: 1000px;\n}\ndiv.intro h5.fail {\n  color: #a4000f;\n}\ndiv.intro h5 .status_icon {\n  padding-left: 0.25em;\n}\ndiv.intro h5 .status_icon i {\n  font-size: 16px;\n}\ndiv.p select {\n  display: inline-block;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 300;\n  font-size: 10pt;\n}\nh5 select {\n  font-family: "Zilla Slab", sans-serif;\n  font-weight: 600;\n  font-size: 14pt;\n  padding: 0 0.25em;\n}\ndiv.warnings {\n  padding: 24px 16px 4px 16px;\n}\ndiv.warnings div.warn,\ndiv.warnings div.fail {\n  font-size: 10pt;\n  line-height: 12pt;\n  padding: 0 0 8px 0;\n}\ndiv.warnings div.warn {\n  color: #d7b600;\n}\ndiv.warnings div.fail {\n  color: #a4000f;\n}\ndiv.download {\n  padding: 4px 16px 24px 16px;\n}\ndiv.download a {\n  text-decoration: none;\n}\ndiv.download a:hover {\n  text-decoration: underline;\n  text-decoration-style: dotted;\n}\ndiv.download i {\n  font-size: 10px;\n}\ndiv.download span.download_label {\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  font-size: 9pt;\n}\ndiv.report {\n  padding: 8px 16px 0 16px;\n  font-family: "Fira Mono", fixed;\n  font-weight: 400;\n  font-size: 9pt;\n  padding-top: 12px;\n  border-top: 1px solid #333;\n  margin-top: 12px;\n  padding-bottom: 12px;\n  border-bottom: 1px solid #333;\n  margin-bottom: 4px;\n}\ndiv.report b {\n  font-family: "Fira Mono", fixed;\n  font-weight: 700;\n}\ndiv.table {\n  padding: 8px 16px 0 16px;\n  font-family: "Fira Mono", fixed;\n  font-weight: 400;\n  font-size: 9pt;\n}\ndiv.table div.table_header {\n  padding-bottom: 2px;\n  border-bottom: 1px solid #333;\n  margin-bottom: 2px;\n}\ndiv.table div.table_body {\n  padding-bottom: 2px;\n  border-bottom: 1px solid #333;\n  margin-bottom: 2px;\n}\ndiv.table div.row.header,\ndiv.table div.row.body {\n  padding-left: 2em;\n}\ndiv.table div.row.header:nth-child(5n):not(:last-child),\ndiv.table div.row.body:nth-child(5n):not(:last-child) {\n  padding-bottom: 2px;\n  border-bottom: 1px dotted #ccc;\n  margin-bottom: 2px;\n}\ndiv.table span.cell.header,\ndiv.table span.cell.body {\n  display: inline-block;\n  vertical-align: top;\n  padding-top: 0.3em;\n  padding-bottom: 0.3em;\n  line-height: 1em;\n}\ndiv.table span.cell.header.dimension,\ndiv.table span.cell.body.dimension {\n  width: 22em;\n}\ndiv.table span.cell.header.ad_count,\ndiv.table span.cell.body.ad_count {\n  width: 10em;\n  text-align: right;\n}\ndiv.table span.cell.header.platform,\ndiv.table span.cell.body.platform {\n  width: 1.5em;\n}\ndiv.table span.cell.header.platform i,\ndiv.table span.cell.body.platform i {\n  font-size: 10px;\n  color: #666;\n}\ndiv.table span.cell.header.advertiser,\ndiv.table span.cell.body.advertiser {\n  width: 30.5em;\n}\ndiv.table span.cell.header.advertiser_count,\ndiv.table span.cell.body.advertiser_count {\n  width: 10em;\n  text-align: right;\n}\ndiv.table span.cell.header.impressions,\ndiv.table span.cell.body.impressions {\n  width: 14em;\n  text-align: right;\n}\ndiv.table span.cell.header.spend,\ndiv.table span.cell.body.spend {\n  width: 12em;\n  text-align: right;\n}\n',""])},function(e,n){e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t=function(e,n){var t=e[1]||"",i=e[3];if(!i)return t;if(n&&"function"==typeof btoa){var o=(s=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),a=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[t].concat(a).concat([o]).join("\n")}var s;return[t].join("\n")}(n,e);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(i[a]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&i[s[0]]||(t&&!s[2]?s[2]=t:t&&(s[2]="("+s[2]+") and ("+t+")"),n.push(s))}},n}},function(e,n,t){var i,o,a={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),r=function(e){var n={};return function(e,t){if("function"==typeof e)return e();if(void 0===n[e]){var i=function(e,n){return n?n.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}n[e]=i}return n[e]}}(),l=null,d=0,c=[],p=t(5);function f(e,n){for(var t=0;t<e.length;t++){var i=e[t],o=a[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(y(i.parts[s],n))}else{var r=[];for(s=0;s<i.parts.length;s++)r.push(y(i.parts[s],n));a[i.id]={id:i.id,refs:1,parts:r}}}}function u(e,n){for(var t=[],i={},o=0;o<e.length;o++){var a=e[o],s=n.base?a[0]+n.base:a[0],r={css:a[1],media:a[2],sourceMap:a[3]};i[s]?i[s].parts.push(r):t.push(i[s]={id:s,parts:[r]})}return t}function h(e,n){var t=r(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=c[c.length-1];if("top"===e.insertAt)i?i.nextSibling?t.insertBefore(n,i.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),c.push(n);else if("bottom"===e.insertAt)t.appendChild(n);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=r(e.insertAt.before,t);t.insertBefore(n,o)}}function b(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=c.indexOf(e);n>=0&&c.splice(n,1)}function v(e){var n=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=function(){0;return t.nc}();i&&(e.attrs.nonce=i)}return m(n,e.attrs),h(e,n),n}function m(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function y(e,n){var t,i,o,a;if(n.transform&&e.css){if(!(a="function"==typeof n.transform?n.transform(e.css):n.transform.default(e.css)))return function(){};e.css=a}if(n.singleton){var s=d++;t=l||(l=v(n)),i=x.bind(null,t,s,!1),o=x.bind(null,t,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(e){var n=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(n,e.attrs),h(e,n),n}(n),i=function(e,n,t){var i=t.css,o=t.sourceMap,a=void 0===n.convertToAbsoluteUrls&&o;(n.convertToAbsoluteUrls||a)&&(i=p(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([i],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(s),r&&URL.revokeObjectURL(r)}.bind(null,t,n),o=function(){b(t),t.href&&URL.revokeObjectURL(t.href)}):(t=v(n),i=function(e,n){var t=n.css,i=n.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,t),o=function(){b(t)});return i(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;i(e=n)}else o()}}e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=s()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=u(e,n);return f(t,n),function(e){for(var i=[],o=0;o<t.length;o++){var s=t[o];(r=a[s.id]).refs--,i.push(r)}e&&f(u(e,n),n);for(o=0;o<i.length;o++){var r;if(0===(r=i[o]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete a[r.id]}}}};var _,g=(_=[],function(e,n){return _[e]=n,_.filter(Boolean).join("\n")});function x(e,n,t,i){var o=t?"":i.css;if(e.styleSheet)e.styleSheet.cssText=g(n,o);else{var a=document.createTextNode(o),s=e.childNodes;s[n]&&e.removeChild(s[n]),s.length?e.insertBefore(a,s[n]):e.appendChild(a)}}},function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,i=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,n){var o,a=n.trim().replace(/^"(.*)"$/,function(e,n){return n}).replace(/^'(.*)'$/,function(e,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?t+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,n,t){"use strict";t.r(n);t(1);var i=t(0);const o=[{key:"platform",label:"Platform",db_key:"platform_code",db_label:"platform_name"},{key:"media",label:"Ad Type",db_key:"media_code",db_label:"media_label"},{key:"location",label:"Region",db_key:"location_code",db_label:"location_name"},{key:"country",label:"Country",db_key:"country_code",db_label:"country_name"},{key:"region",label:"Region",db_key:"region_code",db_label:"region_name"},{key:"audience",label:"Gender and Age",db_key:"audience_code",db_label:"audience_label"},{key:"gender",label:"Gender",db_key:"gender_code",db_label:"gender_label"},{key:"age",label:"Age",db_key:"age_code",db_label:"age_label"},{key:"day",label:"Day",db_key:"day_code",db_label:"day_label"},{key:"week",label:"Week",db_key:"week_code",db_label:"week_label"},{key:"recent",label:"Recent",db_key:"recent_code",db_label:"recent_label"},{key:"spend",label:"Spend",db_key:"spend_code",db_label:"spend_label"},{key:"impression",label:"Impressions",db_key:"impression_code",db_label:"impression_label"}],a=o.filter(e=>"region"!==e.key);o.filter(e=>"country"!==e.key);var s={crawlDate:"May 13, 2019",dimensions:a};const r=function(e="eu"){this.country_code=e};r.prototype._isSummary=function(e){return void 0===e||"summary"===e.key},r.prototype.getGlobalsFilename=function(){return"eu"===this.country_code?"globals.json":"../globals.json"},r.prototype.getStatsFilename=function(e){return this._isSummary(e)?`data/${this.country_code}-stats.csv`:`data/${e.key}/${this.country_code}-stats-by-${e.key}.csv`},r.prototype.getAdvertisersFilename=function(e,n){return this._isSummary(e)?`data/${this.country_code}-advertisers.csv`:`data/${e.key}/${this.country_code}-advertisers-by-${e.key}-${n}.csv`},r.prototype.getAdvertisersPreviewFilename=function(e,n){return this._isSummary(e)?`data/${this.country_code}-advertisers+.csv`:`data/${e.key}/${this.country_code}-advertisers+-by-${e.key}-${n}.csv`},r.prototype.loadGlobals=function(){const e=this.getGlobalsFilename();return new Promise((n,t)=>{i.json(e).then(e=>{n(e)},()=>{t({})})})},r.prototype.loadStats=function(e){const n=this.getStatsFilename(e);return new Promise((e,t)=>{i.tsv(n).then(n=>{e(n)},()=>{t([])})})},r.prototype.loadAdvertisers=function(e,n){const t=this.getAdvertisersPreviewFilename(e,n);return new Promise((e,n)=>{i.tsv(t).then(n=>{e(n)},()=>{n([])})})};var l=r;const d=function(){};d.prototype.init=function(){this._replaceHyberlinkAElements(),this._replaceHeaderH5Elements(),this._replaceDynamicSectionDivAndH3Elements(),this._replaceJumpAElements(),this._replaceGoToSelectElements(),this._initDefaultSection()},d.prototype._replaceHyberlinkAElements=function(){i.selectAll("a").filter(function(){const e=i.select(this).attr("href");return e&&e.match(/^https?:\/\/.+/)}).attr("target","_blank").attr("rel","noopener noreferrer")},d.prototype._replaceHeaderH5Elements=function(){const e=i.selectAll("div.intro, div.section div.content").selectAll("h5, h6");e.filter(function(){return i.select(this).classed("ok")}).append("span").attr("class","status_icon").append("i").attr("class","fas fa-check-circle"),e.filter(function(){return i.select(this).classed("warn")}).append("span").attr("class","status_icon").append("i").attr("class","fas fa-exclamation-triangle"),e.filter(function(){return i.select(this).classed("fail")}).append("span").attr("class","status_icon").append("i").attr("class","fas fa-times-circle");const n=e=>{const n=e.attr("class").split(" ");for(const e of n)if("jump_to_"===e.substr(0,8)){const n=e.substr(8);this._scrollToElementById(n)}},t=e.filter(function(){return i.select(this).classed("jump")});t.filter(function(){return i.select(this).classed("scroll_down")}).append("span").attr("class","action").text("Scroll down ").append("i").attr("class","fas fa-angle-double-down"),t.filter(function(){return i.select(this).classed("details_below")}).append("span").attr("class","action").text("Details ").append("i").attr("class","fas fa-angle-double-down"),t.filter(function(){return i.select(this).classed("details_above")}).append("span").attr("class","action").text("Details ").append("i").attr("class","fas fa-angle-double-up"),t.on("click",()=>{i.select(i.event.target).call(n)}),t.selectAll(".action").on("click",()=>{i.select(i.event.target.parentNode).call(n)})},d.prototype._replaceDynamicSectionDivAndH3Elements=function(){const e=i.selectAll("div.section.dynamic");e.filter(function(){return!i.select(this).classed("is_expanded")}).classed("is_collapsed",!0);const n=e.selectAll("h3");n.append("span").attr("class","action expand").text("Expand ").append("i").attr("class","fas fa-chevron-down"),n.append("span").attr("class","action collapse").text("Collapse ").append("i").attr("class","fas fa-chevron-up"),n.on("click",()=>{const e=i.select(i.event.target.parentNode);this._toggleElementByElem(e)}),n.selectAll(".action").on("click",()=>{const e=i.select(i.event.target.parentNode.parentNode);this._toggleElementByElem(e)})},d.prototype._replaceJumpAElements=function(){const e=e=>{const n=e.attr("class").split(" ");for(const e of n)if("jump_to_"===e.substr(0,8)){const n=e.substr(8);this._scrollToElementById(n)}};i.selectAll("a.jump").on("click",()=>{i.select(i.event.target).call(e)})},d.prototype._replaceGoToSelectElements=function(){i.selectAll("select.select.go_to_report").on("change",()=>{const e=i.event.target.value,n=window.location.origin,t=window.location.pathname;"/"!==t.substr(t.length-1,1)?window.location.href=`${n}${t}/${e}`:window.location.href=`${n}${t}${e}`})},d.prototype._initDefaultSection=function(){this._expandDefaultSection(),this._scrollToDefaultSection()},d.prototype._expandDefaultSection=function(){window.location.hash&&this._expandElementById(window.location.hash)},d.prototype._scrollToDefaultSection=function(){window.location.hash&&this._scrollToElementById(window.location.hash)},d.prototype._expandElementById=function(e){i.select(e).classed("is_expanded",!0).classed("is_collapsed",!1)},d.prototype._toggleElementByElem=function(e){const n=e.classed("is_expanded");e.classed("is_expanded",!n).classed("is_collapsed",n)},d.prototype._scrollToElementById=function(e){const n=document.getElementById(e);n&&(n.scrollIntoView({behavior:"smooth"}),window.location.hash=`#${e}`)};var c=d;document.addEventListener("DOMContentLoaded",function(){const e=(e,n)=>"country"===n.key?e.filter(e=>"__"!==e[n.db_key]):"audience"===n.key||"gender"===n.key?e.filter(e=>"u"!==e[n.db_key].substr(0,1)):e,n=e=>n=>e.map(e=>Object.assign({},e,{db_data:n[e.db_key]})),t=e=>e.is_number?e.is_exact?a(e.db_data):r(e.db_data):e.db_data,o=i.format(","),a=e=>o(e),r=(e,n=3)=>{const t=0===e?0:Math.floor(Math.log10(Math.abs(e)))+1,i=Math.pow(10,t-n),a=Math.round(Math.floor(e/i)*i);return o(a)},d=e=>{const n=h.getStatsFilename(e);i.selectAll(`a.csv.stats.${e.key}`).attr("href",n).selectAll("span.download_label").text("Download the full table")},p=(e,o,a=25)=>{const s=e.slice(0,a),r=[{css:"platform",db_key:"platform_name",is_platform:!0,is_number:!1,label:""},{css:"advertiser",db_key:"advertiser_name",is_platform:!1,is_number:!1,label:"Advertiser"},{css:"ad_count",db_key:"ad_count",is_platform:!1,is_number:!0,is_exact:!0,label:"Ads"},{css:"impressions",db_key:"high_impressions",is_platform:!1,is_number:!0,is_exact:!1,label:"Impressions"},{css:"spend",db_key:"high_spend",is_platform:!1,is_number:!0,is_exact:!1,label:"Spend (€)"}],l=i.select(`.table.advertisers.${o.key}`);l.selectAll("*").remove(),l.append("div").attr("class","table_header").append("div").attr("class","row header").selectAll("span").data(r).enter().append("span").attr("class",e=>`cell header ${e.css}`).text(e=>e.label);const d=l.append("div").attr("class","table_body").selectAll("div").data(s).enter().append("div").attr("class","row body").selectAll("span").data(n(r)).enter().append("span").attr("class",e=>`cell body ${e.css}`);d.filter(e=>e.is_platform).append("i").attr("class",e=>"Facebook"===e.db_data?"fab fa-facebook-square":"fab fa-google"),d.filter(e=>!e.is_platform).text(t)},f=(e,n)=>{const t=h.getAdvertisersFilename(e,n);i.selectAll(`a.csv.advertisers.${e.key}`).attr("href",t).selectAll("span.download_label").text("Download the full list of advertisers")},u={key:"summary"},h=new l("eu");(new c).init(),h.loadGlobals().then(o=>{(e=>{i.selectAll(".stats.const.last_updated_date").text(e.last_updated_date)})(o),h.loadStats(u).then(o=>{(e=>{const n=e[0];for(const e in n)n[e]=parseInt(n[e]);i.selectAll(".stats.summary.ad_count").text(a(n.ad_count)),i.selectAll(".stats.summary.advertiser_count").text(a(n.advertiser_count)),i.selectAll(".stats.summary.high_impressions").text(r(n.high_impressions)),i.selectAll(".stats.summary.low_impressions").text(r(n.low_impressions)),i.selectAll(".stats.summary.high_spend").text(r(n.high_spend)),i.selectAll(".stats.summary.low_spend").text(r(n.low_spend))})(o),d(u),h.loadAdvertisers(u).then(e=>{p(e,u,50),f(u)}),s.dimensions.forEach(o=>{h.loadStats(o).then(a=>{((o,a)=>{const s="country"===a.key?28:"audience"===a.key?14:20,r=e(o,a).slice(0,s),l=(e=>[{css:"dimension",db_key:e.db_label,is_number:!1,label:e.label},{css:"advertiser_count",db_key:"advertiser_count",is_number:!0,is_exact:!0,label:"Advertisers"},{css:"ad_count",db_key:"ad_count",is_number:!0,is_exact:!0,label:"Ads"},{css:"impressions",db_key:"high_impressions",is_number:!0,is_exact:!1,label:"Impressions"},{css:"spend",db_key:"high_spend",is_number:!0,is_exact:!1,label:"Spend (€)"}])(a),d=i.select(`.table.stats.${a.key}`);d.append("div").attr("class","table_header").append("div").attr("class","row header").selectAll("span").data(l).enter().append("span").attr("class",e=>`cell header ${e.css}`).text(e=>e.label),d.append("div").attr("class","table_body").selectAll("div").data(r).enter().append("div").attr("class","row body").selectAll("span").data(n(l)).enter().append("span").attr("class",e=>`cell body ${e.css}`).text(t)})(a,o),d(o);const s=((e,n)=>e.length>0?e[0][n.db_key]:null)(a,o);((n,t,o)=>{const a="country"===t.key?28:"audience"===t.key?14:20,s=e(n,t).slice(0,a).map(e=>({key:e[t.db_key],label:e[t.db_label]})),r=i.select(`select.select.${t.key}`);r.selectAll("option").data(s).enter().append("option").attr("value",e=>e.key).attr("selected",e=>e.key===o?"selected":null).text(e=>e.label),r.on("change",function(){const e=r.node().value;h.loadAdvertisers(t,e).then(n=>{p(n,t),f(t,e)})})})(a,o,s),h.loadAdvertisers(o,s).then(e=>{p(e,o),f(o,s)})})})})})})}]);